import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{ah as r,aj as s,ak as a,am as n,ai as o}from"./app-Dk6D_V9Q.js";const p={};function l(h,e){const i=n("Mermaid");return o(),r("div",null,[e[0]||(e[0]=s('<div class="hint-container tip"><p class="hint-container-title">前言</p><p>无意间看到一个<a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/issues/3372" target="_blank" rel="noopener noreferrer">issue</a>有提及希望vuepress-theme-hope能新增echarts的词云，看了<a href="https://paper-dragon.github.io/" target="_blank" rel="noopener noreferrer">paper-dragon</a>的成果，果然很赞。但是由于目前theme-hope兼容的echarts图表有限，因此采用了“另辟蹊径”的方法来实现动态获取博客所有文章关键词，然后在博客中动态显示（每git push一次就自动更新词云）</p></div><h2 id="成果展示" tabindex="-1"><a class="header-anchor" href="#成果展示"><span>成果展示</span></a></h2><div class="hint-container note"><p class="hint-container-title">说明</p><p>以下图片是一个svg图片，因此可以通过<code>![]()</code>的格式在文章的任意位置引用，且因为是矢量图，因此是在任何界面查看都是“高清无损”的。</p></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>本词云特点总结：</p><ol><li>矢量图，很清楚</li><li>选了自认为效果还不错的繁体字体：<a href="https://fonts.google.com/noto/specimen/Noto+Serif+TC" target="_blank" rel="noopener noreferrer"> Noto Serif TC </a></li><li>在Git push更新项目时可通过Github Action自动运行生成词云的python文件，并与原有deploy-docs.yml合并在一起</li></ol></div><figure><img src="https://raw.gitmirror.com/arthurfsy2/arthurfsy2.github.io/main/src/.vuepress/public/assets/img/wordcloud.svg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="方法思路" tabindex="-1"><a class="header-anchor" href="#方法思路"><span>方法思路</span></a></h2><p>总体来说，词云生成的思路如下流程图。<br> 通过wordcloud2Svg.py生成图片，然后将该流程集成到deploy-docs.yml当中（与部署Github Page联合一起使用）</p>',7)),a(i,{id:"mermaid-44",code:"eJzT1dXlKsksyUm1Ung2dcuTvZOfNcx9sX09F0g8LSe/PDkjsahEIcSFq7g0Kb0osSBDoTy/KCU5J780xSi4LF2voJLr6YSOpzu3PetseDan89m09uerFzybuuFZ7zpdXbunrZtfTln3Yn3v8ynzn3VMAIpAGE9n73uyayJXal4KwtyU1IKc/ErdlPzkYr3K3ByuzBTD6Bfr9j3fu849sySjNEnBMbkkMz8vFqyLC90VQKPRDQAAeFxj1w=="}),e[1]||(e[1]=s(`<h3 id="词云生成流程" tabindex="-1"><a class="header-anchor" href="#词云生成流程"><span>词云生成流程</span></a></h3><p>wordcloud2Svg.py代码示例见后面章节</p><blockquote><p>具体可见本仓库的<code>src/.vuepress/public/scripts/wordcloud2Svg.py</code></p></blockquote><p>主要说明（具体说明见代码的注释）：</p><ol><li>遍历文章目录，将所有<code>.md</code>的文章内容合并为<code>contents</code></li><li>通过<code>jieba.analyse.textrank</code>来获取<code>contents</code>当中的关键词（通过topK设置关键词数量），并输出为<code>keyword_counts</code></li><li>通过<code>OpenCC</code>将<code>keyword_counts</code>转换为繁体（可根据自身喜好决定是否需要转换）</li><li>通过<code>wordcloud.generate_from_frequencies()</code>来生成词云内容</li><li>通过<code>wordcloud.to_svg(embed_font=True)</code>来生成svg内容</li><li>将最终结果写入到<code>/assets/img/wordcloud.svg</code>文件当中</li></ol><h3 id="自动生成流程" tabindex="-1"><a class="header-anchor" href="#自动生成流程"><span>自动生成流程</span></a></h3><p>deploy-docs.yml代码示例如下，具体可见本仓库的<code>.github/workflows/deploy-docs.yml</code><br> 主要说明（具体说明见代码的注释）：</p><ol><li>需要修改内容<br> 将以下代码修改为你自己的github账号、邮箱</li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>env:</span></span>
<span class="line"><span>  GITHUB_NAME: XXXX</span></span>
<span class="line"><span>  GITHUB_EMAIL: XXXX</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>在新增/修改文章然后push到Github时，将会运行Action脚本，实现动态生成</li></ol><h3 id="图片使用说明" tabindex="-1"><a class="header-anchor" href="#图片使用说明"><span>图片使用说明</span></a></h3><p>如果action流程可正常运行，每次push后，将会在项目的<code>src/.vuepress/public/assets/img</code>路径下生成wordcloud.svg，此时在任意文章位置，你可以有以下3种引用图片方式：</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#vuepress-theme-hope内部资源路径，举例：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">![]</span><span style="--shiki-light:#A626A4;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-light-text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline;">/assets/img/wordcloud.svg</span><span style="--shiki-light:#A626A4;--shiki-dark:#E06C75;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#github原始图片路径，举例：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">![]</span><span style="--shiki-light:#A626A4;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-light-text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline;">https://raw.githubusercontent.com/arthurfsy2/arthurfsy2.github.io/main/src/.vuepress/public/assets/img/wordcloud.svg</span><span style="--shiki-light:#A626A4;--shiki-dark:#E06C75;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#gitmirror免费CDN路径（githubusercontent换成gitmirror即可），举例：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">![]</span><span style="--shiki-light:#A626A4;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-light-text-decoration:inherit;--shiki-dark:#C678DD;--shiki-dark-text-decoration:underline;">https://raw.gitmirror.com/arthurfsy2/arthurfsy2.github.io/main/src/.vuepress/public/assets/img/wordcloud.svg</span><span style="--shiki-light:#A626A4;--shiki-dark:#E06C75;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考代码" tabindex="-1"><a class="header-anchor" href="#参考代码"><span>参考代码</span></a></h2><h3 id="wordcloud2svg" tabindex="-1"><a class="header-anchor" href="#wordcloud2svg"><span>wordcloud2Svg</span></a></h3><blockquote><p><a href="https://github.com/arthurfsy2/arthurfsy2.github.io/blob/main/src/.vuepress/public/scripts/wordcloud2Svg.py" target="_blank" rel="noopener noreferrer">参考代码</a></p></blockquote><h3 id="deploy-docs" tabindex="-1"><a class="header-anchor" href="#deploy-docs"><span>deploy-docs</span></a></h3><blockquote><p><a href="https://github.com/arthurfsy2/arthurfsy2.github.io/blob/main/.github/workflows/deploy-docs.yml" target="_blank" rel="noopener noreferrer">参考代码</a></p></blockquote>`,18))])}const u=t(p,[["render",l]]),g=JSON.parse(`{"path":"/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/IT%E6%80%BB%E7%BB%93/vuepress/%E6%8A%93%E5%8F%96%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E5%85%B3%E9%94%AE%E8%AF%8D%E5%B9%B6%E5%9C%A8vuepress%E4%B8%8A%E6%98%BE%E7%A4%BA%E5%8A%A8%E6%80%81%E8%AF%8D%E4%BA%91.html","title":"抓取博客文章关键词并在vuepress上显示动态词云","lang":"zh-CN","frontmatter":{"icon":"edit","title":"抓取博客文章关键词并在vuepress上显示动态词云","date":"2023-09-19T00:00:00.000Z","category":["经验总结"],"tag":["IT总结","vuepress"],"description":"前言 无意间看到一个issue有提及希望vuepress-theme-hope能新增echarts的词云，看了paper-dragon的成果，果然很赞。但是由于目前theme-hope兼容的echarts图表有限，因此采用了“另辟蹊径”的方法来实现动态获取博客所有文章关键词，然后在博客中动态显示（每git push一次就自动更新词云） 成果展示 说明 ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"抓取博客文章关键词并在vuepress上显示动态词云\\",\\"image\\":[\\"https://raw.gitmirror.com/arthurfsy2/arthurfsy2.github.io/main/src/.vuepress/public/assets/img/wordcloud.svg\\",\\"https://blog.4a1801.life/assets/img/wordcloud.svg\\",\\"https://raw.githubusercontent.com/arthurfsy2/arthurfsy2.github.io/main/src/.vuepress/public/assets/img/wordcloud.svg\\",\\"https://raw.gitmirror.com/arthurfsy2/arthurfsy2.github.io/main/src/.vuepress/public/assets/img/wordcloud.svg\\"],\\"datePublished\\":\\"2023-09-19T00:00:00.000Z\\",\\"dateModified\\":\\"2024-10-24T03:03:35.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Arthur\\",\\"url\\":\\"https://blog.4a1801.life\\"}]}"],["meta",{"property":"og:url","content":"https://blog.4a1801.life/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/IT%E6%80%BB%E7%BB%93/vuepress/%E6%8A%93%E5%8F%96%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0%E5%85%B3%E9%94%AE%E8%AF%8D%E5%B9%B6%E5%9C%A8vuepress%E4%B8%8A%E6%98%BE%E7%A4%BA%E5%8A%A8%E6%80%81%E8%AF%8D%E4%BA%91.html"}],["meta",{"property":"og:site_name","content":"Family's Life"}],["meta",{"property":"og:title","content":"抓取博客文章关键词并在vuepress上显示动态词云"}],["meta",{"property":"og:description","content":"前言 无意间看到一个issue有提及希望vuepress-theme-hope能新增echarts的词云，看了paper-dragon的成果，果然很赞。但是由于目前theme-hope兼容的echarts图表有限，因此采用了“另辟蹊径”的方法来实现动态获取博客所有文章关键词，然后在博客中动态显示（每git push一次就自动更新词云） 成果展示 说明 ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.gitmirror.com/arthurfsy2/arthurfsy2.github.io/main/src/.vuepress/public/assets/img/wordcloud.svg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-24T03:03:35.000Z"}],["meta",{"property":"article:tag","content":"vuepress"}],["meta",{"property":"article:tag","content":"IT总结"}],["meta",{"property":"article:published_time","content":"2023-09-19T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-24T03:03:35.000Z"}]]},"git":{"createdTime":1695133075000,"updatedTime":1729739015000,"contributors":[{"name":"arthurfsy2","username":"arthurfsy2","email":"fsyflh@gmail.com","commits":6,"url":"https://github.com/arthurfsy2"}]},"readingTime":{"minutes":2.46,"words":738},"filePathRelative":"经验总结/IT总结/vuepress/抓取博客文章关键词并在vuepress上显示动态词云.md","localizedDate":"2023年9月19日","excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">前言</p>\\n<p>无意间看到一个<a href=\\"https://github.com/vuepress-theme-hope/vuepress-theme-hope/issues/3372\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">issue</a>有提及希望vuepress-theme-hope能新增echarts的词云，看了<a href=\\"https://paper-dragon.github.io/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">paper-dragon</a>的成果，果然很赞。但是由于目前theme-hope兼容的echarts图表有限，因此采用了“另辟蹊径”的方法来实现动态获取博客所有文章关键词，然后在博客中动态显示（每git push一次就自动更新词云）</p>\\n</div>","autoDesc":true}`);export{u as comp,g as data};
