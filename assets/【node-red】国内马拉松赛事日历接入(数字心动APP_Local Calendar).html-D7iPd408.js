import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{ah as t,aj as r,ai as n}from"./app-BkYkEiOF.js";const o={};function d(s,a){return n(),t("div",null,a[0]||(a[0]=[r(`<p><a href="https://bbs.hassbian.com/thread-19986-1-1.html" target="_blank" rel="noopener noreferrer">【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar) </a></p><blockquote><h2 id="概要" tabindex="-1"><a class="header-anchor" href="#概要"><span>概要</span></a></h2><p>国内马拉松赛事日历接入(数字心动APP+Local Calendar)通过对数字心动APP进行抓包，可获取全国/某省所有已记录的马拉松赛事信息，并可通过Local Calendar应用进行查看。本 ... 【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar) ,『瀚思彼岸』» 智能家居技术论坛</p></blockquote><hr><p><em>本帖最后由 arthurfsy 于 2023-3-9 17:18 编辑</em></p><p><strong>国内马拉松赛事日历接入(数字心动APP+Local Calendar)</strong></p><p>通过对数字心动APP进行抓包，可获取全国/某省所有已记录的马拉松赛事信息，并可通过Local Calendar应用进行查看。</p><h2 id="本flow功能" tabindex="-1"><a class="header-anchor" href="#本flow功能"><span>本flow功能：</span></a></h2><p>1.可定时查询所有赛事并入库更新，且后续更新时，如果判断为新赛事，才将新的赛事通过日历服务更新（目前Local Calendar服务只允许新增，暂时不允许更新和删除，所以只能通过flow来控制）。<br> 2.可查看目前所有已入库的赛事信息<br> 3.可清空目前所有已入库的赛事信息（如果发现数据不对，可先清空再重新运行）<br><img src="https://attachment.hasstatic.com/forum/202303/09/171334bzxv88t55771c5mm.png" alt="" loading="lazy"><img src="https://attachment.hasstatic.com/forum/202303/09/171253qcsb0scpkc1sek6p.png" alt="" loading="lazy"></p><h2 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法"><span>使用方法：</span></a></h2><h3 id="_1-对数字心动进行抓包" tabindex="-1"><a class="header-anchor" href="#_1-对数字心动进行抓包"><span>1.对数字心动进行抓包</span></a></h3><p>该步骤可选，或者用我提供的，但是建议最好自己抓包，避免失效。目前测试token的有效期还算比较长</p><h3 id="_2-添加集成local-calendar-输入日历名称-如-赛事-ha版本应该是要2022-12月以后的才会有该集成" tabindex="-1"><a class="header-anchor" href="#_2-添加集成local-calendar-输入日历名称-如-赛事-ha版本应该是要2022-12月以后的才会有该集成"><span>2.添加集成Local Calendar，输入日历名称（如“赛事”）（HA版本应该是要2022.12月以后的才会有该集成）</span></a></h3><h3 id="_3-修改nr流里的-手工修改entity-选择刚刚新建的日历" tabindex="-1"><a class="header-anchor" href="#_3-修改nr流里的-手工修改entity-选择刚刚新建的日历"><span>3.修改NR流里的“手工修改Entity”，选择刚刚新建的日历</span></a></h3><h3 id="_4-修改file节点里的path目录-如我的是-data-marathon-txt-文件名可自行取值" tabindex="-1"><a class="header-anchor" href="#_4-修改file节点里的path目录-如我的是-data-marathon-txt-文件名可自行取值"><span>4.修改file节点里的path目录，如我的是/data/marathon.txt（文件名可自行取值）</span></a></h3><div class="hint-container note"><p class="hint-container-title">特别注意</p><p>如果NR是docker容器部署的，需要填写对应容器内部的目录</p></div><p>如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>主机/存储卷目录（实际文件存放目录）：/www/server/docker/volumes/node_red_data/_data</span></span>
<span class="line"><span>挂载路径（容器内部路径）：/data</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>那么file节点的路径需要填写为/data/marathon.txt，实际存储路径为 <code>/www/server/docker/volumes/node_red_data/_data/marathon.txt</code><br><img src="https://attachment.hasstatic.com/forum/202303/09/170757xn60fwlyj31fbbdb.png" alt="" loading="lazy"><br> PS：<br> 默认为获取全国数据，如果只需要某省的记录，可在“手工修改token”该节点修改，如：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&quot;provinceId&quot;:&quot;&quot;,  //默认空为全国，可单独获取某省数据，如广东省为&quot;provinceId&quot;:&quot;440000&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="https://www.hasstatic.com/image/filetype/zip.gif" alt="" loading="lazy"> <a href="https://bbs.hassbian.com/forum.php?mod=attachment&amp;aid=NDYwODB8OWIzNjM0NTR8MTY5NDcwMjI3OXw1NzI4M3wxOTk4Ng%3D%3D" target="_blank" rel="noopener noreferrer">马拉松赛事日历.zip</a> <em>(4.26 KB, 下载次数: 9)</em></p>`,20)]))}const c=e(o,[["render",d]]),p=JSON.parse(`{"path":"/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/IT%E6%80%BB%E7%BB%93/Node-red/%E3%80%90node-red%E3%80%91%E5%9B%BD%E5%86%85%E9%A9%AC%E6%8B%89%E6%9D%BE%E8%B5%9B%E4%BA%8B%E6%97%A5%E5%8E%86%E6%8E%A5%E5%85%A5(%E6%95%B0%E5%AD%97%E5%BF%83%E5%8A%A8APP_Local%20Calendar).html","title":"【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar)","lang":"zh-CN","frontmatter":{"title":"【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar)","icon":"brands:node","category":["经验总结"],"tag":["IT总结","Node-Red"],"date":"2023-03-09T00:00:00.000Z","order":4,"description":"【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar) 概要 国内马拉松赛事日历接入(数字心动APP+Local Calendar)通过对数字心动APP进行抓包，可获取全国/某省所有已记录的马拉松赛事信息，并可通过Local Calendar应用进行查看。本 ... 【node-red】国内马拉松赛事日历接入(数字心...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar)\\",\\"image\\":[\\"https://attachment.hasstatic.com/forum/202303/09/171334bzxv88t55771c5mm.png\\",\\"https://attachment.hasstatic.com/forum/202303/09/171253qcsb0scpkc1sek6p.png\\",\\"https://attachment.hasstatic.com/forum/202303/09/170757xn60fwlyj31fbbdb.png\\",\\"https://www.hasstatic.com/image/filetype/zip.gif\\"],\\"datePublished\\":\\"2023-03-09T00:00:00.000Z\\",\\"dateModified\\":\\"2025-01-26T06:29:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr.Arthur\\",\\"url\\":\\"https://blog.4a1801.life\\"}]}"],["meta",{"property":"og:url","content":"https://blog.4a1801.life/%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93/IT%E6%80%BB%E7%BB%93/Node-red/%E3%80%90node-red%E3%80%91%E5%9B%BD%E5%86%85%E9%A9%AC%E6%8B%89%E6%9D%BE%E8%B5%9B%E4%BA%8B%E6%97%A5%E5%8E%86%E6%8E%A5%E5%85%A5(%E6%95%B0%E5%AD%97%E5%BF%83%E5%8A%A8APP_Local%20Calendar).html"}],["meta",{"property":"og:site_name","content":"Family's Life"}],["meta",{"property":"og:title","content":"【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar)"}],["meta",{"property":"og:description","content":"【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar) 概要 国内马拉松赛事日历接入(数字心动APP+Local Calendar)通过对数字心动APP进行抓包，可获取全国/某省所有已记录的马拉松赛事信息，并可通过Local Calendar应用进行查看。本 ... 【node-red】国内马拉松赛事日历接入(数字心..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://attachment.hasstatic.com/forum/202303/09/171334bzxv88t55771c5mm.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-26T06:29:33.000Z"}],["meta",{"property":"article:tag","content":"Node-Red"}],["meta",{"property":"article:tag","content":"IT总结"}],["meta",{"property":"article:published_time","content":"2023-03-09T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-01-26T06:29:33.000Z"}]]},"git":{"createdTime":1694703271000,"updatedTime":1737872973000,"contributors":[{"name":"arthurfsy2","username":"arthurfsy2","email":"fsyflh@gmail.com","commits":7,"url":"https://github.com/arthurfsy2"}]},"readingTime":{"minutes":2.24,"words":673},"filePathRelative":"经验总结/IT总结/Node-red/【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar).md","localizedDate":"2023年3月9日","excerpt":"<p><a href=\\"https://bbs.hassbian.com/thread-19986-1-1.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar) </a></p>\\n<blockquote>\\n<h2>概要</h2>\\n<p>国内马拉松赛事日历接入(数字心动APP+Local Calendar)通过对数字心动APP进行抓包，可获取全国/某省所有已记录的马拉松赛事信息，并可通过Local Calendar应用进行查看。本 ... 【node-red】国内马拉松赛事日历接入(数字心动APP+Local Calendar) ,『瀚思彼岸』» 智能家居技术论坛</p>\\n</blockquote>","autoDesc":true}`);export{c as comp,p as data};
